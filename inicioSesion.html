<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-i18n="login_title">Login - LEXA Studios</title>

  <!-- Bootstrap CSS & JS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
    rel="stylesheet">
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js">
  </script>

  <!-- CSS -->
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/inicioSesion.css">

  <link rel="icon" type="image/png" sizes="64x64" href="img/logo-icon.png">
</head>
<body>
  <!-- Navbar dinámico -->
  <div id="navbar-container"></div>
  <script src="js/navbar.js"></script>
  <script src="js/language.js"></script>

  <div class="main-container">
    <div class="login-container">
      <h2 data-i18n="login_title">Sign In</h2>
      <form id="form-login" method="POST" action="/api/login">
        <label for="username" data-i18n="login_username">Username</label>
        <input 
          type="text" 
          id="username" 
          name="username" 
          required
          placeholder=" "
        >

        <label for="password" data-i18n="login_password">Password</label>
        <!-- Campo de contraseña normal -->
        <input
          type="password"
          id="password"
          name="password"
          required
          autocomplete="current-password"
          placeholder=" "
        >
        <!-- Botón mostrar contraseña -->
        <div class="password-toggle-container">
          <button
            type="button"
            class="toggle-password-btn"
            aria-label="Mostrar contraseña"
            id="toggle-password-btn-login"
          >
            👁️
          </button>
        </div>

        <button
          type="submit"
          data-i18n="login_button"
          style="width: 100%; margin-top: 1rem;"
        >
          Sign In
        </button>
        <p class="registrate">
          <span data-i18n="login_no_account">Don't have an account?</span>
          <a href="registro.html" class="click-registrar" data-i18n="register_title">Register</a>
        </p>
      </form>
    </div>
  </div>

  <script>
    // Mostrar / ocultar contraseña en login
    const passwordInputLogin = document.getElementById('password');
    const toggleBtnLogin     = document.getElementById('toggle-password-btn-login');

    toggleBtnLogin.addEventListener('click', () => {
      const type = passwordInputLogin.getAttribute('type');
      if (type === 'password') {
        passwordInputLogin.setAttribute('type', 'text');
        toggleBtnLogin.textContent = '🙈';
        toggleBtnLogin.setAttribute('aria-label', 'Ocultar contraseña');
      } else {
        passwordInputLogin.setAttribute('type', 'password');
        toggleBtnLogin.textContent = '👁️';
        toggleBtnLogin.setAttribute('aria-label', 'Mostrar contraseña');
      }
    });
  </script>

  <script src="js/login.js"></script>
</body>
</html>
