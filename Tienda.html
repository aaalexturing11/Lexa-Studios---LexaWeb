<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="shop_title">Contact - LEXA Studios</title>

  <!-- Bootstrap CSS & JS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/Tienda.css">
  <link rel="icon" type="image/png" sizes="64x64" href="img/logo-icon.png">
</head>
<body>
  <div id="navbar-container"></div>
  <script src="js/navbar.js"></script>
  <script src="js/language.js"></script>

  <div class="carousel-container">
    <h1 class="carousel-title" data-i18n="shop_heading">Products</h1>
    <div class="carousel-track">
      <img src="img/Tienda/Camisa1.png" alt="1">
      <img src="img/Tienda/Taza1.png" alt="2">
      <img src="img/Tienda/Camisa2.png" alt="3">
      <img src="img/Tienda/Camisa3.png" alt="4">
      <img src="img/Tienda/Camisa4.png" alt="5">
      <img src="img/Tienda/Gorra1.png" alt="6">
      <img src="img/Tienda/Gorra2.png" alt="7">
      <img src="img/Tienda/Llavero1.png" alt="8">
      <!-- Duplicado para efecto carrusel -->
      <img src="img/Tienda/Camisa1.png" alt="1">
      <img src="img/Tienda/Taza1.png" alt="2">
      <img src="img/Tienda/Camisa2.png" alt="3">
      <img src="img/Tienda/Camisa3.png" alt="4">
      <img src="img/Tienda/Camisa4.png" alt="5">
      <img src="img/Tienda/Gorra1.png" alt="6">
      <img src="img/Tienda/Gorra2.png" alt="7">
      <img src="img/Tienda/Llavero1.png" alt="8">
    </div>
  </div>

  <section class="cartas">
    <div class="carta">
      <div class="img-container">
        <img src="img/Tienda/Camisa1.png" alt="">
      </div>
      <h3 data-i18n="shop_item1_name">LEXA Shirt (Black)</h3>
      <p data-i18n="shop_item1_price">$350</p>
      <button class="btn-comprar"
        data-nombre="LEXA Shirt (Black)"
        data-descripcion="Black shirt with embroidered LEXA Studios logo."
        data-img="img/Tienda/Camisa1.png"
        data-precio="350"
        data-tallas="true"
        data-i18n="shop_buy">
        Buy
      </button>
    </div>

    <div class="carta">
      <div class="img-container">
        <img src="img/Tienda/Camisa2.png" alt="">
      </div>
      <h3 data-i18n="shop_item2_name">LEXA Shirt (White)</h3>
      <p data-i18n="shop_item2_price">$350</p>
      <button class="btn-comprar"
        data-nombre="LEXA Shirt (White)"
        data-descripcion="White shirt with embroidered LEXA Studios logo."
        data-img="img/Tienda/Camisa2.png"
        data-precio="350"
        data-tallas="true"
        data-i18n="shop_buy">
        Buy
      </button>
    </div>

    <div class="carta">
      <div class="img-container">
        <img src="img/Tienda/Camisa3.png" alt="">
      </div>
      <h3 data-i18n="shop_item3_name">Pixel Runner Shirt</h3>
      <p data-i18n="shop_item3_price">$350</p>
      <button class="btn-comprar"
        data-nombre="Pixel Runner Shirt"
        data-descripcion="Black shirt with pixel character in motion."
        data-img="img/Tienda/Camisa3.png"
        data-precio="350"
        data-tallas="true"
        data-i18n="shop_buy">
        Buy
      </button>
    </div>

    <div class="carta">
      <div class="img-container">
        <img src="img/Tienda/Taza1.png" alt="">
      </div>
      <h3 data-i18n="shop_item4_name">Prof. Michi Mug</h3>
      <p data-i18n="shop_item4_price">$150</p>
      <button class="btn-comprar"
        data-nombre="Prof. Michi Mug"
        data-descripcion="White mug with pixel art of Prof. Michi."
        data-img="img/Tienda/Taza1.png"
        data-precio="150"
        data-tallas="false"
        data-i18n="shop_buy">
        Buy
      </button>
    </div>

    <div class="carta">
      <div class="img-container">
        <img src="img/Tienda/Gorra1.png" alt="">
      </div>
      <h3 data-i18n="shop_item5_name">LEXA Cap (Black)</h3>
      <p data-i18n="shop_item5_price">$150</p>
      <button class="btn-comprar"
        data-nombre="LEXA Cap (Black)"
        data-descripcion="Black cap with stitched LEXA Studios logo."
        data-img="img/Tienda/Gorra1.png"
        data-precio="150"
        data-tallas="false"
        data-i18n="shop_buy">
        Buy
      </button>
    </div>

    <div class="carta">
      <div class="img-container">
        <img src="img/Tienda/Gorra2.png" alt="">
      </div>
      <h3 data-i18n="shop_item6_name">LEXA Cap (White)</h3>
      <p data-i18n="shop_item6_price">$150</p>
      <button class="btn-comprar"
        data-nombre="LEXA Cap (White)"
        data-descripcion="White cap with stitched LEXA Studios logo."
        data-img="img/Tienda/Gorra2.png"
        data-precio="150"
        data-tallas="false"
        data-i18n="shop_buy">
        Buy
      </button>
    </div>

    <div class="carta">
      <div class="img-container">
        <img src="img/Tienda/Gorra3.png" alt="">
      </div>
      <h3 data-i18n="shop_item7_name">Runner Cap</h3>
      <p data-i18n="shop_item7_price">$150</p>
      <button class="btn-comprar"
        data-nombre="Runner Cap"
        data-descripcion="White cap with pixel runner character."
        data-img="img/Tienda/Gorra3.png"
        data-precio="150"
        data-tallas="false"
        data-i18n="shop_buy">
        Buy
      </button>
    </div>

    <div class="carta">
      <div class="img-container">
        <img src="img/Tienda/Llavero1.png" alt="">
      </div>
      <h3 data-i18n="shop_item8_name">Pixel Runner Keychain</h3>
      <p data-i18n="shop_item8_price">$150</p>
      <button class="btn-comprar"
        data-nombre="Pixel Runner Keychain"
        data-descripcion="Acrylic keychain with pixel runner artwork."
        data-img="img/Tienda/Llavero1.png"
        data-precio="150"
        data-tallas="false"
        data-i18n="shop_buy">
        Buy
      </button>
    </div>
  </section>

  <!-- Modal -->
  <div id="modal-producto" class="modal-overlay" onclick="cerrarModal(event)">
    <div class="modal-contenido">
      <span class="cerrar" onclick="cerrarModal()">&times;</span>
      <img id="modal-img" src="" alt="">
      <div class="descripcion-contenido">
        <h2 id="modal-titulo" data-i18n="shop_modal_title">Product Name</h2>
        <p id="modal-descripcion" data-i18n="shop_modal_desc">Product Description</p>

        <div id="selector-talla">
          <label for="talla" data-i18n="shop_size_label">Size:</label>
          <select id="talla">
            <option value="S">S</option>
            <option value="M">M</option>
            <option value="L">L</option>
            <option value="XL">XL</option>
          </select>
        </div>

        <div class="cantidad-selector">
          <button class="btn-cantidad" onclick="cambiarCantidad(-1)">âˆ’</button>
          <span id="cantidad">1</span>
          <button class="btn-cantidad" onclick="cambiarCantidad(1)">+</button>
        </div>

        <button class="confirmar-compra" data-i18n="shop_add_cart">Add to Cart</button>
      </div>
    </div>
  </div>

  <!-- Boton y panel de compras -->
  <button id="btn-carrito" onclick="toggleCarrito()">ðŸ›’</button>
  <div id="carrito" class="carrito">
    <h4 data-i18n="shop_cart">Shopping Cart</h4>
    <div id="lista-carrito"></div>
    <div id="total"></div>
    <button class="btn-pagar" onclick="pagar()" data-i18n="shop_pay">Pay</button>
  </div>

  <!-- Scripts -->
  <script src="js/carrito.js"></script>
  <script>
    let cantidadActual = 1;

    function cambiarCantidad(delta) {
      cantidadActual += delta;
      if (cantidadActual < 1) cantidadActual = 1;
      document.getElementById("cantidad").textContent = cantidadActual;
    }

    function cerrarModal(e) {
      if (!e || e.target.classList.contains("modal-overlay")) {
        document.getElementById("modal-producto").style.display = "none";
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      const botones = document.querySelectorAll(".btn-comprar");

      botones.forEach(boton => {
        boton.addEventListener("click", () => {
          const nombre = boton.dataset.nombre;
          const descripcion = boton.dataset.descripcion;
          const imagen = boton.dataset.img;
          const tieneTallas = boton.dataset.tallas === "true";
          const precio = boton.dataset.precio;

          cantidadActual = 1;

          document.getElementById("modal-titulo").textContent = nombre;
          document.getElementById("modal-descripcion").textContent = descripcion;
          document.getElementById("modal-img").src = imagen;
          document.getElementById("cantidad").textContent = cantidadActual;
          document.getElementById("modal-img").dataset.precio = precio;
          document.getElementById("modal-img").dataset.img = imagen;

          const selectorTalla = document.getElementById("selector-talla");
          selectorTalla.style.display = tieneTallas ? "block" : "none";

          document.getElementById("modal-producto").style.display = "flex";
        });
      });

      document.querySelector(".confirmar-compra").addEventListener("click", () => {
        const nombre = document.getElementById("modal-titulo").textContent;
        const descripcion = document.getElementById("modal-descripcion").textContent;
        const talla = document.getElementById("talla")?.value || "One size";
        const cantidad = parseInt(document.getElementById("cantidad").textContent);
        const precio = parseFloat(document.getElementById("modal-img").dataset.precio);
        const imagen = document.getElementById("modal-img").dataset.img;

        agregarAlCarrito(nombre, talla, precio, imagen, cantidad);
        cerrarModal();
      });
    });
  </script>
</body>
</html>
